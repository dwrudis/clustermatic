.\" $Id: bproc_version.2,v 1.1 2004/09/08 20:28:44 mkdist Exp $
.TH BPROC_VERSION 2 "" "BProc 4.0.0pre8" "BProc Programmer's Manual"
.SH NAME
bproc_version \- get BProc version information

.SH SYNOPSIS
\fB#include <sys/bproc.h>\fR

int \fBbproc_version\fR(struct bproc_version_t *\fIvers\fR);

.SH DESCRIPTION
.PP
\fBbproc_version\fR returns version information for the
BProc kernel modules.  This will be the same as the version
information on the BProc daemons.  The information will be stored in
the structure pointed to by \fIvers\fR.

.nf
struct bproc_version_t {
    char     bproc_magic[3];      /* 'B', 'P', 'r' */
    uint8_t  arch;                /* Architecture \- BPROC_ARCH */
    uint32_t magic;               /* Magic number */
    char     version_string[24];  /* Version string */
};
.fi

.SH RETURN VALUE
.PP
On success, \fBbproc_version\fR will return 0.  On error,
\fBbproc_version\fR will return \-1 and errno will be
set appropriately.

.SH ERRORS
.PP
.TP
\fBEBUSY\fR
The BProc system is not running.
.PP
