.\" $Id: bproc_masteraddr.2,v 1.1 2004/09/08 20:28:44 mkdist Exp $
.TH BPROC_MASTERADDR 2 "" "BProc 4.0.0pre8" "BProc Programmer's Manual"
.SH NAME
bproc_masteraddr \- return the address of the master node

.SH SYNOPSIS
\fB#include <sys/bproc.h>\fR

int \fBbproc_masteraddr\fR(struct sockaddr * \fIaddr\fR,int * \fIsize\fR);

.SH DESCRIPTION
.PP
\fBbproc_masteraddr\fR places the address of the master node in
<type>struct sockaddr</type> pointed to by \fIaddr\fR.  The
\fIsize\fR parameter should be intialized to the amount of space
pointed to by \fIaddr\fR.  The mount of space used in
\fIaddr\fR is returned in \fIsize\fR.

Note that the master node may have multiple addresses if it is
listening on multiple interfaces.  If this is the case,
\fBbproc_masteraddr\fR will return the first address if called
from the front end.  If called from a slave node, it will return the
address of the interface that that node is connected to.

.SH RETURN VALUE
.PP
On success, \fBbproc_masteraddr\fR will return 0.  On error,
it will return \-1 and errno will be set appropriately.

.SH ERRORS
.TP
\fBEBUSY\fR
The BProc system is not running.

.SH SEE ALSO
.PP
\fBbproc_nodeaddr\fR(2),
\fBbproc_nodenumber\fR(2)
